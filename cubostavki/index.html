<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Cubostavki</title>
<style>
body{
    margin:0;
    background:#000;
    color:#cbd5e1;
    font-family: Inter, Arial, sans-serif;
}

.main{
    padding:40px 20px 60px 20px;
    min-height:80vh;
}

/* ===== РУЛЕТКА ===== */
.roulette-wrap{
    max-width:900px;
    margin:0 auto 60px auto;
    text-align:center;
}

.roulette-container{
    position:relative;
    overflow:hidden;
    border:2px solid #1e293b;
    border-radius:12px;
    height:140px;
    background:#020617;
}

.pointer{
    position:absolute;
    left:50%;
    top:-18px;
    transform:translateX(-50%);
    font-size:32px;
    z-index:5;
}

.roulette-track{
    display:flex;
    align-items:center;
    height:100%;
}

.roulette-item{
    min-width:160px;
    padding:10px;
}

.roulette-item img{
    width:100%;
    height:100px;
    object-fit:cover;
    border-radius:8px;
}

.spin-btn{
    margin-top:15px;
    padding:12px 28px;
    border:none;
    border-radius:8px;
    background:#2563eb;
    color:white;
    font-weight:700;
    cursor:pointer;
}

/* ===== СЕТКА ===== */
.grid{
    max-width:1100px;
    margin:auto;
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
    gap:20px;
}

.team{
    background:#0f172a;
    border:1px solid #1e293b;
    border-radius:14px;
    padding:14px;
    text-align:center;
}

.team img{
    width:100%;
    height:160px;
    object-fit:cover;
    border-radius:10px;
}

.vote-btn{
    margin-top:10px;
    width:100%;
    padding:10px;
    border:none;
    border-radius:8px;
    background:#1d4ed8;
    color:white;
    font-weight:600;
    cursor:pointer;
}
</style>
</head>
<body>
<div class="main">

    <div class="roulette-wrap">
        <div class="roulette-container">
            <div class="pointer">▼</div>
            <div class="roulette-track" id="rouletteTrack"></div>
        </div>
        <button class="spin-btn" onclick="startSpin()">Крутить рулетку</button>
        <button class="spin-btn" onclick="stopSpin()">Стоп</button>
    </div>

    <div class="grid" id="teams"></div>
</div>

<script>
const teams = [
    {id:0,name:"Красные",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/1q.webp"},
    {id:1,name:"Оранжевые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/2q.webp"},
    {id:2,name:"Жёлтые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/3q.webp"},
    {id:3,name:"Зелёные",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/4q.webp"},
    {id:4,name:"Аква",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/5q.webp"},
    {id:5,name:"Синие",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/6q.webp"},
    {id:6,name:"Фиолетовые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/7q.webp"},
    {id:7,name:"Розовые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/8q.webp"}
];

const track = document.getElementById("rouletteTrack");

// создаём бесконечный ряд и дублируем
function buildRoulette(){
    let html="";
    for(let i=0;i<3;i++){ // дублируем 3 раза для плавного зацикливания
        teams.forEach(t=>{
            html+=`<div class="roulette-item"><img src="${t.img}"></div>`;
        });
    }
    track.innerHTML = html;
}

let pos = 0;
let speed = 0;
let animId;

function animate(){
    pos -= speed;
    if(pos <= -track.scrollWidth/3){ // зацикливаем
        pos = 0;
    }
    track.style.transform = `translateX(${pos}px)`;
    animId = requestAnimationFrame(animate);
}

function startSpin(){
    speed = 10 + Math.random()*10; // рандомная быстрая скорость
    cancelAnimationFrame(animId);
    animate();
}

function stopSpin(){
    speed = 0;
}

buildRoulette();
</script>
</body>
</html>
