<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Mem Bets</title>

<style>
body{
    margin:0;
    background:#000;
    color:#cbd5e1;
    font-family: Inter, Arial, sans-serif;
}

/* Контент */
.main{
    padding:40px 20px 60px 20px;
    min-height:80vh;
}

/* ===== БАННЕР ===== */
.top-banner{
    display:flex;
    justify-content:center;
    margin-bottom:60px;
}

.top-banner img{
    max-width:1000px;
    width:95%;
    animation: pulse 3s ease-in-out infinite;
}

@keyframes pulse{
    0%{ transform: scale(1); }
    50%{ transform: scale(1.06); }
    100%{ transform: scale(1); }
}

/* ===== РУЛЕТКА ===== */
.roulette-wrap{
    max-width:900px;
    margin:0 auto 60px auto;
    text-align:center;
}

.roulette-container{
    position:relative;
    overflow:hidden;
    border:2px solid #1e293b;
    border-radius:12px;
    height:140px;
    background:#020617;
}

/* стрелка */
.pointer{
    position:absolute;
    left:50%;
    top:-18px;
    transform:translateX(-50%);
    font-size:32px;
    z-index:5;
}

/* лента */
.roulette-track{
    display:flex;
    align-items:center;
    height:100%;
    transition: transform 4s cubic-bezier(.1,.7,.1,1);
}

.roulette-item{
    min-width:160px;
    padding:10px;
}

.roulette-item img{
    width:100%;
    height:100px;
    object-fit:cover;
    border-radius:8px;
}

.spin-btn{
    margin-top:15px;
    padding:12px 28px;
    border:none;
    border-radius:8px;
    background:#2563eb;
    color:white;
    font-weight:700;
    cursor:pointer;
}

/* ===== СЕТКА КОМАНД ===== */
.grid{
    max-width:1100px;
    margin:auto;
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px,1fr));
    gap:20px;
}

.team{
    background:#0f172a;
    border:1px solid #1e293b;
    border-radius:14px;
    padding:14px;
    text-align:center;
}

.team img{
    width:100%;
    height:160px;
    object-fit:cover;
    border-radius:10px;
}

.vote-btn{
    margin-top:10px;
    width:100%;
    padding:10px;
    border:none;
    border-radius:8px;
    background:#1d4ed8;
    color:white;
    font-weight:600;
    cursor:pointer;
}

/* ===== ФУТЕР ===== */
.footer{
    width:100%;
    background:linear-gradient(180deg,#020617,#020617ee);
    border-top:1px solid #111827;
    margin-top:60px;
}

.footer-inner{
    max-width:1200px;
    margin:auto;
    padding:30px 20px;
}
</style>
</head>

<body>

<div class="main">

    <!-- БАННЕР -->
    <div class="top-banner">
        <img src="https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/wigoda.png">
    </div>

    <!-- РУЛЕТКА -->
    <div class="roulette-wrap">
        <div class="roulette-container">
            <div class="pointer">▼</div>
            <div class="roulette-track" id="rouletteTrack"></div>
        </div>
        <button class="spin-btn" onclick="spin()">Крутить рулетку</button>
    </div>

    <!-- КОМАНДЫ -->
    <div class="grid" id="teams"></div>

</div>

<!-- ФУТЕР -->
<div class="footer">
    <div class="footer-inner">
        © Cubostavki meme site
    </div>
</div>

<script>
const teams = [
    {id:0,name:"Команда 1",img:"team1.jpg"},
    {id:1,name:"Команда 2",img:"team2.jpg"},
    {id:2,name:"Команда 3",img:"team3.jpg"},
    {id:3,name:"Команда 4",img:"team4.jpg"},
    {id:4,name:"Команда 5",img:"team5.jpg"},
    {id:5,name:"Команда 6",img:"team6.jpg"},
    {id:6,name:"Команда 7",img:"team7.jpg"},
    {id:7,name:"Команда 8",img:"team8.jpg"}
];

/* ===== РУЛЕТКА ===== */
const track = document.getElementById("rouletteTrack");

/* делаем длинную ленту */
function buildRoulette(){
    let html="";
    for(let i=0;i<20;i++){
        teams.forEach(t=>{
            html+=`
            <div class="roulette-item">
                <img src="${t.img}">
            </div>`;
        });
    }
    track.innerHTML = html;
}

function spin(){
    const itemWidth = 160;
    const winnerIndex = Math.floor(Math.random()*teams.length);

    const loops = 10;
    const move = (loops * teams.length + winnerIndex) * itemWidth;

    track.style.transition = "transform 4s cubic-bezier(.1,.7,.1,1)";
    track.style.transform = `translateX(-${move}px)`;
}

buildRoulette();

/* ===== ГОЛОСОВАНИЕ ===== */
function getVotes(){
    return JSON.parse(localStorage.getItem("votes")||"{}");
}

function vote(id){
    let v=getVotes();
    v[id]=(v[id]||0)+1;
    localStorage.setItem("votes",JSON.stringify(v));
    render();
}

function render(){
    const container=document.getElementById("teams");
    const votes=getVotes();
    container.innerHTML="";

    teams.forEach(t=>{
        container.innerHTML+=`
        <div class="team">
            <img src="${t.img}">
            <h3>${t.name}</h3>
            <button class="vote-btn" onclick="vote(${t.id})">Голосовать</button>
            <div>Голосов: ${votes[t.id]||0}</div>
        </div>`;
    });
}

render();
</script>

</body>
</html>
