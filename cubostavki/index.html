<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Cubobet</title>

<style>
body{
    margin:0;
    background:#000;
    color:#cbd5e1;
    font-family: Inter, Arial, sans-serif;
}

.main{
    padding:40px 20px 60px 20px;
    min-height:80vh;
}

/* ===== РУЛЕТКА ===== */
.roulette-wrap{
    max-width:1200px;
    margin:0 auto 60px auto;
    text-align:center;
}

.roulette-container{
    position:relative;
    overflow:hidden;
    border:2px solid #1e293b;
    border-radius:12px;
    height:200px;
    background:#020617;
}

.pointer{
    position:absolute;
    left:50%;
    top:-25px;
    transform:translateX(-50%);
    font-size:40px;
    z-index:5;
}

.roulette-track{
    display:flex;
    align-items:center;
    height:100%;
    transition: transform 4s cubic-bezier(.1,.7,.1,1);
}

.roulette-item{
    min-width:220px;
    padding:10px;
}

.roulette-item img{
    width:100%;
    height:160px;
    object-fit:cover;
    border-radius:8px;
}

.spin-btn{
    margin-top:15px;
    padding:12px 28px;
    border:none;
    border-radius:8px;
    background:#2563eb;
    color:white;
    font-weight:700;
    cursor:pointer;
}

/* ===== КОМАНДЫ ===== */
.grid{
    max-width:1000px;
    margin:auto;
    display:flex;
    flex-direction: column;
    gap:20px;
}

.team-block{
    display:flex;
    align-items:center;
    background:#0f172a; /* тёмно-синий */
    border-radius:12px;
    padding:10px 20px;
    transition: all 0.3s ease;
    min-height:80px;
}

.team-block:hover{
    background:#1c2a47;
}

.team-icon{
    flex: 0 0 120px;
}

.team-icon img{
    width:100%;
    border-radius:10px;
}

.team-info{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:center;
    margin-left:20px;
}

.team-info h3{
    margin:0 0 8px 0;
}

.vote-btn{
    padding:6px 16px;
    border:none;
    border-radius:8px;
    background:#1d4ed8;
    color:white;
    font-weight:600;
    cursor:pointer;
    width:120px;
}

/* Счётчик голосов */
.team-votes{
    flex: 0 0 60px;
    text-align:center;
    font-weight:700;
    font-size:18px;
    color:#fff;
}
</style>
</head>
<body>

<div class="main">

    <!-- РУЛЕТКА -->
    <div class="roulette-wrap">
        <div class="roulette-container">
            <div class="pointer">▼</div>
            <div class="roulette-track" id="rouletteTrack"></div>
        </div>
        <button class="spin-btn" onclick="spin()">Крутить рулетку</button>
    </div>

    <!-- КОМАНДЫ -->
    <div class="grid" id="teams"></div>

</div>

<script>
const teams = [
    {id:0,name:"Красные",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/1q.webp"},
    {id:1,name:"Оранжевые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/2q.webp"},
    {id:2,name:"Жёлтые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/3q.webp"},
    {id:3,name:"Зелёные",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/4q.webp"},
    {id:4,name:"Аква",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/5q.webp"},
    {id:5,name:"Синие",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/6q.webp"},
    {id:6,name:"Фиолетовые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/7q.webp"},
    {id:7,name:"Розовые",img:"https://raw.githubusercontent.com/IamDimoon/iamdimoon.github.io/main/cubostavki/8q.webp"}
];

const track = document.getElementById("rouletteTrack");

function buildRoulette(){
    let html="";
    for(let i=0;i<20;i++){
        teams.forEach(t=>{
            html+=`<div class="roulette-item"><img src="${t.img}"></div>`;
        });
    }
    track.innerHTML = html;
}

function spin(){
    const itemWidth = 220; 
    const winnerIndex = Math.floor(Math.random()*teams.length);
    const loops = 10;
    const move = (loops * teams.length + winnerIndex) * itemWidth;
    track.style.transform = `translateX(-${move}px)`;
}

buildRoulette();

function getVotes(){
    return JSON.parse(localStorage.getItem("votes")||"{}");
}

function vote(id){
    let v=getVotes();
    v[id]=(v[id]||0)+1;
    localStorage.setItem("votes",JSON.stringify(v));
    render();
}

function render(){
    const container=document.getElementById("teams");
    const votes=getVotes();
    container.innerHTML="";

    // сортировка по голосам
    const sortedTeams = [...teams].sort((a,b)=> (votes[b.id]||0) - (votes[a.id]||0));

    sortedTeams.forEach(t=>{
        const blockHeight = 80 + (votes[t.id]||0)*5; // увеличение высоты в зависимости от голосов
        container.innerHTML+=`
        <div class="team-block" style="height:${blockHeight}px">
            <div class="team-icon">
                <img src="${t.img}">
            </div>
            <div class="team-info">
                <h3>${t.name}</h3>
                <button class="vote-btn" onclick="vote(${t.id})">Голосовать</button>
            </div>
            <div class="team-votes">${votes[t.id]||0}</div>
        </div>`;
    });
}

render();
</script>

</body>
</html>
